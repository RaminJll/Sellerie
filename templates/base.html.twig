<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<link
		{# templates/base.html.twig #}
		{% block stylesheets %}
			{{ encore_entry_link_tags('app') }}
			<link rel="stylesheet" href="{{ asset('styles/app.css') }}">
		{% endblock %}

		{% block javascripts %}
			{{ encore_entry_script_tags('app') }}
			{% block importmap %}
				{{ importmap('app') }}
			{% endblock %}
			{{ encore_entry_script_tags('recherche-filtre') }}
		{% endblock %}
	</head>
	<body>
		{% if app.request.attributes.get('_route') == ['app_login', 'app_register'] %}
		<header></header>
		{% elseif is_granted('ROLE_USER') %}
			<header>
				<nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800">
					<div class="flex justify-between items-center mx-auto max-w-screen-xl">
						<div class="flex-grow flex justify-center" id="mobile-menu-2">
							<ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0">
								<li>
									<a href="{{path('app_home')}}" class="block py-2 pr-4 pl-3 text-white rounded bg-primary-700 lg:bg-transparent lg:text-primary-700 lg:p-0 dark:text-white">
										Accueil
									</a>
								</li>
								<li>
									<a href="{{path('app_historiques')}}" class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-primary-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700 dark:text-white">
										Historiques
									</a>
								</li>
							</ul>
						</div>
						<a href="{{ path('app_logout') }}" class="text-primary-600 hover:underline text-light-gray-700 dark:text-white">
							Déconnexion
						</a>
					</div>
				</nav>
			</header>

		{% elseif is_granted('ROLE_ADMIN') %}
			<header>
				<nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800">
					<div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl">
						<div class="flex items-center lg:order-2">
							<a href="{{path('app_notifications')}}" class="text-gray-800 dark:text-white hover:bg-gray-50 focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-4 lg:px-5 py-2 lg:py-2.5 mr-2 dark:hover:bg-gray-700 focus:outline-none dark:focus:ring-gray-800">Notifications</a>
						</div>
						<div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2">
							<ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0">
								<li>
									<a href="{{path('app_admin_home')}}" class="block py-2 pr-4 pl-3 text-white rounded bg-primary-700 lg:bg-transparent lg:text-primary-700 lg:p-0 dark:text-white">Accueil</a>
								</li>
								<li>
									<a href="{{path('app_admin_produit')}}" class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-primary-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700 dark:text-white">Gestions des produits</a>
								</li>
								<li>
									<a href="{{path('app_personnels')}}" class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-primary-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700 dark:text-white">Gestions des utilisateurs</a>
								</li>
								<li>
									<a href="{{path('app_reparations')}}" class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-primary-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700 dark:text-white">Gestions des réparations</a>
								</li>
								<li>
									<a href="{{path('app_maintenance')}}" class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-primary-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700 dark:text-white">Gestions des Maintenances</a>
								</li>
							</ul>
						</div>
						<a href="{{ path('app_logout') }}" class="text-primary-600 hover:underline text-light-gray-700 dark:text-white">Déconnexion</a>
					</div>
				</nav>
			</header>
		{% endif %}
		{% block body %}
			<main></main>
		{% endblock %}
		{% if app.request.attributes.get('_route') == ['app_login', 'app_register'] %}
		    <footer></footer>
		{% elseif is_granted('ROLE_USER') %}
			<footer class="shadow dark:bg-gray-900">
				<div class="w-full max-w-screen-xl mx-auto p-4 md:py-8">
					<div class="sm:flex sm:items-center sm:justify-between">
						<ul class="flex flex-wrap items-center mb-6 text-sm font-medium text-gray-500 sm:mb-0 dark:text-gray-400">
							<li>
								<a href="{{path('app_home')}}" class="hover:underline me-4 md:me-6">Accueil</a>
							</li>
							<li>
								<a href="{{path('app_historiques')}}" class="hover:underline me-4 md:me-6">Historiques</a>
							</li>
						</ul>
					</div>
					<hr class="my-6 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8"/>
					<span class="block text-sm text-gray-500 sm:text-center dark:text-gray-400">© 2025 Ramin Jalili</span>
				</div>
			</footer>
			{% elseif is_granted('ROLE_ADMIN') %}
			<footer class="shadow dark:bg-gray-900">
				<div class="w-full max-w-screen-xl mx-auto p-4 md:py-8">
					<div class="sm:flex sm:items-center sm:justify-between">
						<ul class="flex flex-wrap items-center mb-6 text-sm font-medium text-gray-500 sm:mb-0 dark:text-gray-400">
							<li>
								<a href="{{path('app_admin_home')}}" class="hover:underline me-4 md:me-6">Accueil</a>
							</li>
							<li>
								<a href="{{path('app_admin_produit')}}" class="hover:underline me-4 md:me-6">Gestions des produits</a>
							</li>
							<li>
								<a href="{{path('app_personnels')}}" class="hover:underline me-4 md:me-6">Gestions des utilisateurs</a>
							</li>
							<li>
								<a href="{{path('app_reparations')}}" class="hover:underline me-4 md:me-6">Gestions des réparations</a>
							</li>
							<li>
								<a href="{{path('app_maintenance')}}" class="hover:underline me-4 md:me-6">Gestions des Maintenances</a>
							</li>
						</ul>
					</div>
					<hr class="my-6 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8"/>
					<span class="block text-sm text-gray-500 sm:text-center dark:text-gray-400">© 2025 Ramin Jalili</span>
				</div>
			</footer>
		{% endif %}
	</body>
</html>
